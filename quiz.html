<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Literacy Quiz - dollarWize</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #3e688c 0%, #69bfbf 100%);
            min-height: 100vh;
            padding-top: 60px; /* Added padding for fixed header */
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header and Navigation Styles (copied from index.html) */
        header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            transition: background 0.3s ease, border-bottom 0.3s ease;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #03a63c;
        }

        /* Styles for when the header is scrolled */
        header.scrolled {
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header.scrolled .logo {
            color: #3e688c;
        }

        header.scrolled .nav-links a {
            color: #333;
        }

        header.scrolled .nav-links a:hover {
            color: #03a63c;
        }
        /* End Header and Navigation Styles */

        .quiz-header {
            text-align: center;
            color: white;
            margin-bottom: 2rem;
            padding: 2rem 0;
        }

        .quiz-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .quiz-header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .quiz-controls {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .level-selector {
            margin-bottom: 2rem;
        }

        .level-selector h3 {
            color: #3e688c;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .level-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .level-btn {
            padding: 10px 20px;
            border: 2px solid #3e688c;
            background: white;
            color: #3e688c;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .level-btn:hover,
        .level-btn.active {
            background: #3e688c;
            color: white;
        }

        .quiz-container {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: none;
        }

        .quiz-container.active {
            display: block;
        }

        .quiz-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .question-counter {
            color: #3e688c;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .score-display {
            color: #03a63c;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #03a63c, #5ba66e);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-container {
            margin-bottom: 2rem;
        }

        .question-text {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 1.5rem;
            font-weight: 500;
            line-height: 1.5;
        }

        .options {
            display: grid;
            gap: 1rem;
        }

        .option {
            padding: 1rem 1.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            font-size: 1.1rem;
            position: relative;
        }

        .option:hover {
            border-color: #69bfbf;
            background: #f8f9fa;
        }

        .option.selected {
            border-color: #3e688c;
            background: #e8f2f7;
        }

        .option.correct {
            background-color: #c8e6c9; /* Light green for correct answer */
            border-color: #03a63c;
        }

        .option.incorrect {
            background-color: #ffcdd2; /* Light red for incorrect answer */
            border-color: #dc3545;
        }

        .option .feedback-icon {
            position: absolute;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
        }

        .option.correct .feedback-icon {
            color: #03a63c;
        }

        .option.incorrect .feedback-icon {
            color: #dc3545;
        }

        .explanation {
            margin-top: 1.5rem;
            padding: 1rem 1.5rem;
            background-color: #f0f4f7;
            border-left: 4px solid #3e688c;
            border-radius: 5px;
            font-style: italic;
            color: #555;
            display: none;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: #03a63c;
            color: white;
        }

        .btn-primary:hover {
            background: #5ba66e;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .btn-secondary {
            background: #3e688c;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5ba66e;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }


        .results-container {
            background: white;
            border-radius: 15px;
            padding: 3rem 2rem;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            display: none;
        }

        .results-container h2 {
            font-size: 2.5rem;
            color: #3e688c;
            margin-bottom: 1rem;
        }
        
        .final-score {
            font-size: 4rem;
            font-weight: bold;
            color: #03a63c;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .score-message {
            font-size: 1.3rem;
            color: #555;
            margin-top: 0.5rem;
            margin-bottom: 2rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
        }
        
        .stat-card h4 {
            font-size: 1.1rem;
            color: #3e688c;
            margin-bottom: 0.5rem;
        }
        
        .stat-card p {
            font-size: 1.8rem;
            font-weight: 600;
            color: #03a63c;
        }
        
        .back-home {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
        }
        
        .back-home a {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        .back-home a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .quiz-header h1 {
                font-size: 2rem;
            }
            
            .quiz-controls, .quiz-container {
                padding: 1.5rem;
            }
            
            .quiz-info {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .level-buttons {
                justify-content: center;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .option {
                padding: 0.8rem 1rem;
                font-size: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>

    <header id="mainHeader">
        <div class="container">
            <nav>
                <a href="index.html" class="logo">dollarWize</a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="quiz_level.html">Assessment</a></li>
                    <li><a href="quiz.html" class="active-nav">Quiz</a></li>
                    <li><a href="glossary.html">Glossary</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="quiz-header">
            <div class="container">
                <h1>Financial Literacy Quiz</h1>
                <p>Test your knowledge with the dollarWize Quiz. Choose a level and get started!</p>
            </div>
        </section>

        <div class="container">
            <div class="quiz-controls" id="quizControls">
                <div class="level-selector">
                    <h3>Select a difficulty level:</h3>
                    <div class="level-buttons">
                        <button class="level-btn active" data-level="mixed">Mixed</button>
                        <button class="level-btn" data-level="novice">Novice</button>
                        <button class="level-btn" data-level="intermediate">Intermediate</button>
                        <button class="level-btn" data-level="advanced">Advanced</button>
                    </div>
                </div>
                <button class="btn btn-primary" id="startQuizBtn">Start Quiz</button>
            </div>

            <div class="quiz-container" id="quizContainer">
                <div class="quiz-info">
                    <div class="question-counter">Question <span id="questionCounter"></span> of 10</div>
                    <div class="level-info">Level: <span id="currentLevelDisplay">Mixed</span></div>
                    <div class="score-display">Score: <span id="currentScoreDisplay">0</span></div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="question-container">
                    <p class="question-text" id="questionText"></p>
                    <div class="options" id="optionsContainer">
                        </div>
                    <div class="explanation" id="explanation">
                        </div>
                </div>
                <div class="quiz-navigation">
                    <button class="btn btn-secondary" id="nextQuestionBtn">Next Question</button>
                </div>
            </div>

            <div class="results-container" id="resultsContainer">
                <h2>Quiz Complete!</h2>
                <div class="final-score" id="finalScore"></div>
                <p class="score-message" id="scoreMessage"></p>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Questions Answered</h4>
                        <p id="totalQuestionsStat"></p>
                    </div>
                    <div class="stat-card">
                        <h4>Correct Answers</h4>
                        <p id="correctAnswersStat"></p>
                    </div>
                </div>
                <button class="btn btn-primary" id="restartQuizBtn">Restart Quiz</button>
            </div>
        </div>
    </main>

    <script>
        const QUIZ_LENGTH = 10;
        let quizLevel = 'mixed';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;

        // Get DOM elements
        const header = document.getElementById('mainHeader');
        const scrollThreshold = 50;
        const startQuizBtn = document.getElementById('startQuizBtn');
        const quizControls = document.getElementById('quizControls');
        const quizContainer = document.getElementById('quizContainer');
        const resultsContainer = document.getElementById('resultsContainer');
        const levelButtons = document.querySelectorAll('.level-btn');
        const currentLevelDisplay = document.getElementById('currentLevelDisplay');
        const questionCounterDisplay = document.getElementById('questionCounter');
        const currentScoreDisplay = document.getElementById('currentScoreDisplay');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const explanationContainer = document.getElementById('explanation');
        const nextQuestionBtn = document.getElementById('nextQuestionBtn');
        const finalScoreDisplay = document.getElementById('finalScore');
        const scoreMessageDisplay = document.getElementById('scoreMessage');
        const totalQuestionsStat = document.getElementById('totalQuestionsStat');
        const correctAnswersStat = document.getElementById('correctAnswersStat');
        const restartQuizBtn = document.getElementById('restartQuizBtn');

        // Comprehensive question bank with 250+ questions tailored for US financial literacy
        const questionBank = [
            // Novice Level Questions (Financial Basics)
            { question: "What is the main benefit of a Roth IRA?", options: ["You get a tax deduction for contributions", "Qualified withdrawals in retirement are tax-free", "It has no contribution limits", "It can only be used for a home down payment"], correct: 1, level: "novice", explanation: "A Roth IRA allows for tax-free growth and tax-free withdrawals in retirement, as long as you've had the account for at least five years and are over 59½. Contributions are made with after-tax dollars." },
            { question: "What is the most common range for a 'good' FICO credit score?", options: ["300-579", "580-669", "670-739", "740-850"], correct: 2, level: "novice", explanation: "In the United States, FICO credit scores range from 300-850. A score of 670-739 is considered good, while 740+ is very good to exceptional." },
            { question: "What is the purpose of a 401(k) retirement plan?", options: ["A tax-free account for a home down payment", "A government-funded pension plan", "An employer-sponsored retirement savings account", "A savings account for college tuition"], correct: 2, level: "novice", explanation: "A 401(k) is a popular employer-sponsored retirement account in the US. It allows employees to contribute a portion of their salary, often with a matching contribution from the employer." },
            { question: "What does 'living within your means' mean?", options: ["Spending exactly what you earn", "Spending less than you earn", "Using credit cards for all purchases", "Only buying necessities"], correct: 1, level: "novice", explanation: "Living within your means means spending less than you earn to allow for saving and investing." },
            { question: "What is net worth?", options: ["Your total income for the year", "Your assets minus your liabilities (debts)", "The value of your home", "The amount of money you have in savings"], correct: 1, level: "novice", explanation: "Net worth is calculated by subtracting all your debts (liabilities) from all your assets. It's a key measure of your overall financial health." },
            { question: "Why is it important to pay credit card balances in full each month?", options: ["To improve your credit score", "To avoid paying high interest charges", "To maintain good financial habits", "All of the above"], correct: 3, level: "novice", explanation: "Paying credit card balances in full helps avoid high interest charges, improves your credit score by lowering your credit utilization, and is a fundamental good financial habit." },
            { question: "What is the primary role of a financial advisor?", options: ["To guarantee high investment returns", "To provide personalized financial guidance and planning", "To manage your bank account daily", "To sell specific financial products only"], correct: 1, level: "novice", explanation: "A financial advisor helps you set financial goals, create a plan, and make informed decisions about investments, retirement, and other financial matters." },
            { question: "What is the difference between gross and net income?", options: ["No difference", "Gross is income before deductions, net is after deductions", "Net is always higher than gross", "Gross is earned from a job, net is from investments"], correct: 1, level: "novice", explanation: "Gross income is the total amount you earn before any deductions are taken out. Net income is what you have left after taxes, insurance, and other deductions are subtracted." },
            { question: "What is an emergency fund?", options: ["Money to use for a vacation", "Savings set aside for unexpected events or expenses", "A loan from the government", "Money to pay for a new car"], correct: 1, level: "novice", explanation: "An emergency fund is a stash of cash you keep readily available for unexpected costs, such as a job loss or medical emergency, without having to go into debt." },
            { question: "What is a mortgage?", options: ["A loan used to buy a car", "A loan for a house or real estate", "A line of credit on your home", "A type of credit card"], correct: 1, level: "novice", explanation: "A mortgage is a specific type of loan used to purchase a home or real estate. The property itself serves as collateral for the loan." },
            { question: "What does compound interest mean?", options: ["Interest paid only on the original amount invested", "Interest paid on both the original amount and previously earned interest", "Interest that changes daily", "Interest that is guaranteed by the government"], correct: 1, level: "novice", explanation: "Compound interest is when you earn interest on both your original investment and the interest you've already earned. This creates exponential growth over time." },

            // Intermediate Level Questions (Building a Toolkit)
            { question: "What is a 529 plan primarily used for?", options: ["Retirement savings", "Healthcare expenses", "Education savings", "Long-term care"], correct: 2, level: "intermediate", explanation: "A 529 plan is a tax-advantaged savings plan in the US designed to encourage saving for future education costs. Withdrawals are tax-free when used for qualified expenses." },
            { question: "What is the main advantage of dollar-cost averaging?", options: ["It guarantees positive returns", "It reduces the impact of market volatility over time", "It allows you to time the market perfectly", "It eliminates all investment risk"], correct: 1, level: "intermediate", explanation: "Dollar-cost averaging involves investing a fixed amount regularly, which helps smooth out market volatility by buying more shares when prices are low and fewer when prices are high." },
            { question: "How much of your capital gains are taxable in the US if you hold the asset for more than a year?", options: ["0%", "50%", "They are not taxable", "It depends on your income tax bracket"], correct: 3, level: "intermediate", explanation: "Long-term capital gains (assets held for more than a year) are taxed at favorable rates, which depend on your income tax bracket (0%, 15%, or 20%)." },
            { question: "What is the 'Rule of 72'?", options: ["A calculation for compound interest", "A way to estimate how long it takes an investment to double", "A formula for calculating your tax liability", "A formula for calculating your credit score"], correct: 1, level: "intermediate", explanation: "The Rule of 72 is a simple way to estimate how long it will take for your investment to double. You divide 72 by the annual rate of return." },
            { question: "What is the difference between a bull market and a bear market?", options: ["A bull market is when prices are rising; a bear market is when prices are falling.", "A bull market is a period of falling stock prices; a bear market is a period of rising stock prices.", "They are the same thing.", "A bull market refers to the bond market, a bear market refers to the stock market."], correct: 0, level: "intermediate", explanation: "A bull market is a prolonged period where stock prices are rising. A bear market is a period where prices are falling, often due to a recession or economic slowdown." },

            // Advanced Level Questions (Sophisticated Strategies)
            { question: "What is 'tax loss harvesting'?", options: ["Selling losing investments to offset capital gains for tax purposes", "Avoiding all capital gains", "Only investing in tax-free accounts", "Delaying all investment sales"], correct: 0, level: "advanced", explanation: "Tax loss harvesting involves selling investments at a loss to offset capital gains, reducing your overall tax liability. In the US, you can also deduct a limited amount of losses against ordinary income." },
            { question: "What is the main difference between a traditional IRA and a Roth IRA?", options: ["Traditional IRA contributions are pre-tax, while Roth IRA contributions are after-tax", "Roth IRAs have a higher contribution limit", "Traditional IRAs are for younger people, Roth IRAs are for older people", "Traditional IRAs are for retirement, Roth IRAs are for education"], correct: 0, level: "advanced", explanation: "The key difference lies in the tax treatment. With a traditional IRA, contributions may be tax-deductible, and withdrawals in retirement are taxed. With a Roth IRA, contributions are not deductible, but qualified withdrawals in retirement are tax-free." },
            { question: "What is beta in investment analysis?", options: ["The expected return of an investment", "A measure of an investment's volatility relative to the market", "The dividend yield of a stock", "The interest rate on a bond"], correct: 1, level: "advanced", explanation: "Beta is a measure of a stock's volatility in relation to the overall market. A beta of 1 means the stock's price moves with the market, while a beta greater than 1 means it's more volatile." },
            { question: "What is 'asset-backed security' (ABS)?", options: ["A security backed by physical gold", "A financial security backed by a pool of assets, often loans or receivables", "A security issued by a government", "A stock that pays high dividends"], correct: 1, level: "advanced", explanation: "An asset-backed security (ABS) is a financial security collateralized by a pool of assets—such as loans, leases, credit card receivables, or royalties." },
            { question: "What is a 'Systematic Withdrawal Plan'?", options: ["A plan to withdraw a fixed amount of money from an investment account on a regular schedule", "A plan for withdrawing from a bank account at an ATM", "A plan for getting rid of debt", "A plan for making regular contributions to a retirement account"], correct: 0, level: "advanced", explanation: "A systematic withdrawal plan involves taking regular withdrawals from retirement accounts while keeping remaining funds invested. This strategy helps manage income needs during retirement while balancing growth potential." },
        ];

        // Function to handle scroll event
        function handleScroll() {
            if (window.scrollY > scrollThreshold) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        }
        window.addEventListener('scroll', handleScroll);
        document.addEventListener('DOMContentLoaded', handleScroll);

        // Event listener for level buttons
        levelButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                levelButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                quizLevel = btn.dataset.level;
                currentLevelDisplay.textContent = quizLevel.charAt(0).toUpperCase() + quizLevel.slice(1);
            });
        });

        // Event listener for start quiz button
        startQuizBtn.addEventListener('click', startQuiz);

        // Function to start the quiz
        function startQuiz() {
            quizControls.style.display = 'none';
            quizContainer.style.display = 'block';
            
            // Filter questions by selected level
            let availableQuestions = [];
            if (quizLevel === 'mixed') {
                availableQuestions = [...questionBank]; // Use all questions for mixed
            } else {
                availableQuestions = questionBank.filter(q => q.level === quizLevel);
            }
            
            // Shuffle and select questions
            currentQuestions = shuffleArray(availableQuestions).slice(0, QUIZ_LENGTH);
            currentQuestionIndex = 0;
            score = 0;
            displayQuestion();
            updateQuizInfo();
            resultsContainer.style.display = 'none';
            nextQuestionBtn.style.display = 'none';
        }

        // Function to display the current question
        function displayQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            questionText.textContent = question.question;
            optionsContainer.innerHTML = '';
            explanationContainer.style.display = 'none';

            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.classList.add('option');
                optionDiv.textContent = option;
                optionDiv.addEventListener('click', () => selectOption(index, question.correct));
                optionsContainer.appendChild(optionDiv);
            });
        }

        // Function to handle option selection
        function selectOption(selectedIndex, correctAnswerIndex) {
            // Disable all options after selection
            document.querySelectorAll('.option').forEach(option => {
                option.style.pointerEvents = 'none';
            });

            const options = optionsContainer.querySelectorAll('.option');
            if (selectedIndex === correctAnswerIndex) {
                options[selectedIndex].classList.add('correct');
                score++;
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[correctAnswerIndex].classList.add('correct');
            }

            // Show explanation
            explanationContainer.textContent = currentQuestions[currentQuestionIndex].explanation;
            explanationContainer.style.display = 'block';
            updateQuizInfo();
            nextQuestionBtn.style.display = 'block';
        }

        // Event listener for next question button
        nextQuestionBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < QUIZ_LENGTH) {
                displayQuestion();
                updateQuizInfo();
                nextQuestionBtn.style.display = 'none';
            } else {
                showResults();
            }
        });

        // Function to update quiz info display
        function updateQuizInfo() {
            questionCounterDisplay.textContent = currentQuestionIndex + 1;
            currentScoreDisplay.textContent = score;
            progressFill.style.width = `${((currentQuestionIndex + 1) / QUIZ_LENGTH) * 100}%`;
        }

        // Function to show final results
        function showResults() {
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
            const accuracy = (score / QUIZ_LENGTH) * 100;
            finalScoreDisplay.textContent = `${accuracy}%`;
            totalQuestionsStat.textContent = QUIZ_LENGTH;
            correctAnswersStat.textContent = score;

            if (accuracy >= 80) {
                scoreMessageDisplay.textContent = "Excellent! You have a strong grasp of financial literacy.";
            } else if (accuracy >= 50) {
                scoreMessageDisplay.textContent = "Good effort! Keep practicing to improve your knowledge.";
            } else {
                scoreMessageDisplay.textContent = "You're just getting started. Review the basics and try again!";
            }
        }

        // Function to restart the quiz
        function restartQuiz() {
            quizControls.style.display = 'block';
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'none';
            progressFill.style.width = '0%';
            levelButtons.forEach(btn => btn.classList.remove('active'));
            document.querySelector('.level-btn[data-level="mixed"]').classList.add('active');
            quizLevel = 'mixed';
            currentLevelDisplay.textContent = 'Mixed';
        }
        
        // Event listener for restart button
        restartQuizBtn.addEventListener('click', restartQuiz);

        // Utility function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>